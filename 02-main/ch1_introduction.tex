\chapter{Introduction}
\label{chap:introduction}

Bitcoin is a decentralized peer-to-peer currency that allows users to pay for
things electronically. Thousands of other cryptocurrencies exist, but only some
of them are really interesting from a political, economical or technical point
of view. Bitcoin was created by a pseudonymous software developer going by the
name of Satoshi Nakamoto in 2008, as an electronic payment system based on
mathematical proof. The idea was to produce a means of exchange, independent of
any central authority, which could be transferred electronically in a secure,
verifiable and immutable way. The blockchain is the output of this secure,
verifiable and immutable mathematical proof.

The most significant challenge in Bitcoin for the coming years is scalability.
Currently, Bitcoin enforces a block-size limit which is equivalent to only a few
transactions per second on the network. This amount is not sufficient in
comparison to large payment infrastructures, which allow tens of thousands of
transactions per second and even more at peak times such as Christmas.  To
address this there are some proposals to modify the transaction structure (like
SegWit), some to modify the block-size limit (such as SegWit2x) and others to
create a second layer on top of the Bitcoin protocol (such as Lightning
Network). In the same idea of a second layer, this paper proposes a new
implementation of a unidirectional payment channel for retail commercial
transactions. A unidirectional payment channel allows two parties to
transact over the blockchain while minimizing the number of transactions needed
on the blockchain in a secure and trustless way. Every kind of channel needs
multi-signature addresses to secure the funds. A cryptographic threshold scheme
might improve these schemes significantly. Finding such a threshold scheme that
fulfills the requirements is not trivial. The threshold scheme selected is
adapted and implemented into the Bitcoin cryptographic library to compute a
particular two-party threshold ECDSA signature.

% ECDSA is the signature scheme used by Bitcoin to sign transactions. A standard transaction
% is constituted of a single signature corresponding to the address where the Bitcoins come
% from. But sometimes we need more complex management for locking funds. To address the
% limitation of a single signature, Bitcoin introduced a new OP\_CODE named CHECKMULTISIG with
% a new standard script. With this standard script, it is now possible to spend Bitcoin to an
% address that requires a minimum of m signatures in n authorised signatories and extend the
% capability of Bitcoin to lock funds in a more complex way.
%
% However, some issues appear. The way the script works requires exposing all the public keys
% when an output is signed and this increases the transaction size enormously, which implies
% bigger fees. All the signatures are, obviously, present with the public keys in the transaction
% script, which implies that we can know which public keys signed the transaction. And there
% is some limitation, due to the script size limit, the maximum number of authorised signatories
% is 15. All these limitations mean that we cannot imagine a complex organization nor structure
% with the multi-signature script for the moment.
%
% To address this limitation, a group of researchers published a first paper  in 2015 and a
% second one  in 2016 describing the way to achieve a threshold scheme with DSA and ECDSA.
% Today, there is no well-known implementation ready for production purposes even though
% industries need it. The principal purpose of this thesis is to provide a clear, well
% documented C library, based on the internal ECDSA library present in bitcoin-core.
